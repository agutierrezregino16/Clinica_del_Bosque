{% extends "layout.html" %}

{% block title %} Lista de usuarios {% endblock %}

{% block content %}
    <!-- Contenido -->

    {% include '/template-parts/sidebar.html' %}

    <div class="main">
        <h1 style="display: inline">Lista de usuarios</h1>
        <a href="{{ url_for('create_user') }}" class="btn btn-primary"><i class="fas fa-user-plus"></i>
        </a>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} u-align-left"
                     role="alert">{{ message }}</div>
            {% endfor %}
        {% endwith %}
        <table class="table">
            <thead class="thead-dark">
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Nombre</th>
                <th scope="col">Apellidos</th>
                <th scope="col">Tipo de documento</th>
                <th scope="col">Nª de documento</th>
                <th scope="col">Rol</th>
                <th scope="col">Estado</th>

            </tr>
            </thead>
            <tbody>
            {% for user in users %}
                <tr>
                    {% for d in user %}
                        {% if user.index(d) == 5 %}
                            {% if d == 1 %}
                                <td>Administrador</td>
                            {% elif d == 2 %}
                                <td>Médico</td>
                            {% elif d == 3 %}
                                <td>Paciente</td>
                            {% endif %}
                        {% else %}
                            <td>{{ d }}</td>
                        {% endif %}
                    {% endfor %}
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Fin del contenido -->
{% endblock %}